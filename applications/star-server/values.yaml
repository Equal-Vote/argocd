image:
  repository: ghcr.io/equal-vote/star-server
  tag: "sha-95ee8fb"
ingress:
  enabled: true
  annotations:
    cert-manager.io/cluster-issuer: "letsencrypt-prod"
  hosts:
    - host: star.sandbox.star.vote
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls:
    - secretName: star-server-tls
      hosts:
        - star.sandbox.star.vote
env:
  - name: ALLOWED_URLS
    value: "http://localhost:3000/"
  - name: DEV_DATABASE
    value: "TRUE"
  - name: KEYCLOAK_PUBLIC_KEY
    value: "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA1pykfFHROSZY8/Q2071vAaplb4uBrj+Ei5uVVYwyhtSuJNKIhpIXukcfAAud/Qq35/a6kZoLCn5DyPZFhuq6nqyen0w9Kwjy91Oc1VR/hRPRPAWdCv5LfsS7/3nuN9O8cUCpkZG16CD92JtmEYNXd6LvFooDa4MNMDk3jOxRRVgFzzbGvq7WUkDySN/9pxsQ2OsmoWNvswIM5LMbyKCyP+F8F10wuOwFcon5PWK8MJ5ob/BDeUqTuyS6TwNst2Ui6Tf2WhC4x7V7+RxSnP5oxjpP4K7cWoCExDcOUY33ZQM7Z9zbs0B0XC9f0Ev9JNKHDhtAyKvg6DrMGlyTyLyLXQIDAQAB"
  - name: S3_ID
    value: "AKIA4DAHQS5EADVYNTUP"
  - name: KEYCLOAK_URL
    value: "http://keycloak.keycloak.svc.cluster.local/realms/Dev/protocol/openid-connect"
  - name: REACT_APP_KEYCLOAK_URL
    value: "https://keycloak.sandbox.star.vote/realms/Dev/protocol/openid-connect"
  - name: REACT_APP_TITLE
    value: "star.sandbox.star.vote"
  - name: REACT_APP_FEATURED_ELECTIONS
    value: "4e7b3f9d-ce53-4b25-8747-b5927c6745aa,753bb873-12de-4aca-af25-e96ec72f0b49,18ad9f37-94a8-4fed-a784-83761c692052"
  - name: DATABASE_URL
    valueFrom:
      secretKeyRef:
        name: star-server
        key: DATABASE_URL
  - name: SENDGRID_API_KEY
    valueFrom:
      secretKeyRef:
        name: star-server
        key: SENDGRID_API_KEY
  - name: KEYCLOAK_SECRET
    valueFrom:
      secretKeyRef:
        name: star-server
        key: KEYCLOAK_SECRET
  - name: S3_SECRET
    valueFrom:
      secretKeyRef:
        name: star-server
        key: S3_SECRET
service:
  port: 5000
livenessProbe:
  httpGet:
    port: 5000
readinessProbe:
  httpGet:
    port: 5000
